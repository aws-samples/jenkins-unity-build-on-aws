version: 1.1
tasks:
- task: executeScript
  inputs:
  - frequency: once
    type: powershell
    runAs: admin
    content: |-
      Set-ExecutionPolicy Bypass -Scope Process -Force
      [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072
      iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))
      choco install chocolatey-compatibility.extension -y --no-progress
      choco install awstools.powershell -y --no-progress
      choco install git -y --no-progress
      choco install git-lfs -y --no-progress
      choco install corretto17jdk --version=17.0.7 --install-args INSTALLDIR="C:\Java" -y --no-progress
- task: enableOpenSsh
